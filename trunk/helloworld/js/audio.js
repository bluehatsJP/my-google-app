(function(){var quicktime={width:240,height:16,behaviourId:'qtBehaviourElement',init:function(){if(isIE()){var that=this;if(!document.getElementById(that.behaviourId)){var head=document.getElementsByTagName('head')[0];var frag=document.createElement('div');frag.innerHTML=that.behaviourHtml();head.appendChild(frag.lastChild);}
window.onload=function(){that.bindEventListeners(that.behaviourId);};}
return PluginDetect.getVersion('QuickTime');},actions:{qt_begin:function(){if(window.console&&console.log)console.log('qt_begin');},qt_loadedmetadata:function(){if(window.console&&console.log)console.log('qt_loadedmetadata');},qt_loadedfirstframe:function(){if(window.console&&console.log)console.log('qt_loadedfirstframe');},qt_canplay:function(){if(window.console&&console.log)console.log('qt_canplay');},qt_canplaythrough:function(){if(window.console&&console.log)console.log('qt_canplaythrough');},qt_durationchange:function(){if(window.console&&console.log)console.log('qt_durationchange');},qt_load:function(){if(window.console&&console.log)console.log('qt_load');},qt_ended:function(){if(window.console&&console.log)console.log('qt_ended');},qt_error:function(){if(window.console&&console.log)console.log('qt_error');},qt_pause:function(){if(window.console&&console.log)console.log('qt_pause');},qt_play:function(){if(window.console&&console.log)console.log('qt_play');},qt_progress:function(){if(window.console&&console.log)console.log('qt_progress');},qt_waiting:function(){if(window.console&&console.log)console.log('qt_waiting');},qt_stalled:function(){if(window.console&&console.log)console.log('qt_stalled');},qt_timechanged:function(){if(window.console&&console.log)console.log('qt_timechanged');},qt_volumechange:function(){if(window.console&&console.log)console.log('qt_volumechange');}},methods:{},bindEventListeners:function(id){var obj=(typeof(id)==='string')?document.getElementById(id):id,actions=this.actions;if(obj){for(i in actions){this.addListener(obj,i,actions[i],false);}}},addListener:function addListener(obj,evt,handler,captures){if(document.addEventListener)obj.addEventListener(evt,handler,captures);else obj.attachEvent('on'+evt,handler);},behaviourIsInDOM:function(){var obj=document.getElementById(this.idBehaviour);return obj&&obj.getAttribute('classid')==="clsid:CB927D12-4FF7-4a9e-A169-56E4B8A75598";},behaviourHtml:function(){return'<object id="'+ this.behaviourId+'" classid="clsid:CB927D12-4FF7-4a9e-A169-56E4B8A75598"></object>'},objectHtml:function(url,options){var o=options,obj=document.createElement('div'),html=((isIE())?'<object  classid="clsid:02BF25D5-8C17-4B23-BC80-D3488ABDDC6B" width="'+ o.width+'" height="'+ o.height+'" codebase="http://www.apple.com/qtactivex/qtplugin.cab#version='+ o.activex+'" '+((o.id)?'id="'+o.id+'"':'')+' style="behavior:url(\'#'+ this.behaviourId+'\')">'+'<param name="src" value="'+ url+'" />':'<object '+((o.id)?'id="'+o.id+'"':'')+' type="video/quicktime" data="'+ url+'" width="'+ o.width+'" height="'+ o.height+'">')+'<param name="enablejavascript" value="true" />'+'<param name="postdomevents" value="true" />'+'<param name="autoplay" value="'+ o.autoplay+'" />'+'<param name="controller" value="'+ o.controls+'" />'+'</object>';return html;},make:function(url,opt){var options=opt||{},o={id:options.id||false,width:options.width||this.width,height:options.height||this.height,controller:(options.controller||options.controller===false)?options.controller:'true',autoplay:(!options.controller)?'false':options.controller,activex:options.activex||'7,3,0,0'},html=this.objectHtml(url,o),temp=document.createElement('div'),qtObj,i;temp.innerHTML=html;qtObj=temp.lastChild;for(i in this.methods){qtObj[i]=this.methods[i];}
document.body.appendChild(qtObj);if(isIE()){var qt=this,t=setInterval(function(){var status=qtObj.GetPluginStatus();if(status==="Complete"){clearInterval(t);if(window.console&&console.log)console.log(status);qt.bindEventListeners(qtObj);}},5);}
else{this.bindEventListeners(qtObj);}
return qtObj;}}
function isIE(){if(this.flag===undefined){var obj=document.createElement('div');obj.innerHTML='<!--[if IE]><div id="ie_test"></div><![endif]-->';document.body.appendChild(obj);this.flag=!!document.getElementById("ie_test");document.body.removeChild(obj);}
return this.flag;}
var version=quicktime.init();if(version){QuickTime=quicktime.make;QuickTime.prototype=quicktime;QuickTime.version=version;QuickTime.support={m4a:true,m4p:true,mp3:true,mp4:true,mov:true,aif:true,aiff:true,wav:true};}})();(function(AudioObject){var regex={fileExt:/\.\w{1,6}$/};if(AudioObject){var native={tag:!!(document.createElement('audio').canPlayType)};try{var audioTest=new AudioObject('');native.obj=!!(audioTest.canPlayType);native.basic=!!(!native.obj?audioTest.play:false);native.support=(native.obj)?{ogg:audioTest.canPlayType("audio/ogg")!=="no"&&audioTest.canPlayType("audio/ogg")!=='',m4a:audioTest.canPlayType("audio/x-m4a")!=="no"&&audioTest.canPlayType("audio/x-m4a")!=='',mp3:audioTest.canPlayType("audio/mpeg")!=="no"&&audioTest.canPlayType("audio/mpeg")!=='',wav:audioTest.canPlayType("audio/wav")!=="no"&&audioTest.canPlayType("audio/wav")!=='',aif:audioTest.canPlayType("audio/aiff")!=="no"&&audioTest.canPlayType("audio/aiff")!==''}:{};}
catch(error){native.obj=false;native.basic=false;}}
if(QuickTime){QuickTime.prototype.actions={qt_begin:function(){this.readyState=0;this.networkState=0;},qt_loadedmetadata:function(){this.readyState=1;this.networkState=2;},qt_loadedfirstframe:function(){this.readyState=2;this.networkState=3;},qt_canplay:function(){this.readyState=3;},qt_canplaythrough:function(){this.readyState=4;},qt_durationchange:function(){this.GetDuration()/this.GetTimeScale()},qt_load:function(){this.networkState=4;},qt_ended:function(){this.ended=true;},qt_error:function(){this.error=this.GetPluginStatus()},qt_pause:function(){this.paused=true;},qt_play:function(){this.paused=false;},qt_timechanged:function(){this.currentTime=this.GetTime()/this.GetTimeScale();},qt_volumechange:function(){var volume=this.GetVolume()/256;this.muted=(volume<=0);this.volume=volume;}};QuickTime.prototype.methods={canPlayType:function(type){var mime={'audio/x-m4a':true,'audio/x-mp4':true,'audio/mpeg':true,'audio/wav':true,'audio/aiff':true,'video/mov':true,'video/quicktime':true,'application/quicktime':true}
return mime[type];},play:function(){var rate=this.playbackRate,volume=Math.ceil(this.volume*256);this.SetRate(rate);},pause:function(){this.Stop();},load:function(){var src=this.src;this.networkState=0;this.readyState=0;this.SetURL(src);},addCueRange:function(name,start,end,pauseOnExit,enterCallback,exitCallback){var timescale=this.GetTimeScale();if(start){this.SetStartTime(start*timescale);}
if(end){this.SetEndTime(end*timescale);}},removeCueRanges:function(name){var duration=this.GetDuration();this.SetStartTime(0);this.SetEndTime(duration);}};}
Audio=function(src){var obj,options=arguments[1]||{},methods;var ext=src.match(regex.fileExt)[0].replace(/./,'');if(native&&native.obj&&native.support[ext]){return new AudioObject(src);}
if(QuickTime&&QuickTime.version&&QuickTime.support[ext]){obj=new QuickTime(src,options);}
else if(PluginDetect.getVersion('Flash')&&ext==='mp3'){obj=flash.make();}
else{};obj.autoplay=options.autoplay||false;obj.controls=!(!options.controller||false);obj.currentTime=0;obj.defaultPlaybackRate=1;obj.muted=false;obj.networkState=0;obj.playbackRate=1;obj.readyState=0;obj.src=src;obj.volume=1;obj.loop=false;obj.paused=true;return obj;}})(Audio);